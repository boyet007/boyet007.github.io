import{l as g,p as v,q as V,c as C,m as h,n as q,_ as x,h as n,s as _,o as Q,a as z,w as o,d as P,x as k,e as l,y as c,Q as w}from"./index-CmSOulEF.js";import{a as p}from"./QInput-u-P-6y-a.js";import{Q as A}from"./QCardSection-D6dcLYSP.js";import{Q as M}from"./QCard-uzEHc3zB.js";import{s as b}from"./data-Dn-S9w-r.js";import{u as y}from"./utils-BKMGkOy7.js";const U=g({name:"QCardActions",props:{...v,vertical:Boolean},setup(m,{slots:s}){const r=V(m),a=C(()=>`q-card__actions ${r.value} q-card__actions--${m.vertical===!0?"vert column":"horiz row"}`);return()=>h("div",{class:a.value},q(s.default))}}),B={__name:"FormContactComponent",setup(m,{expose:s}){s();const r=n(null),a=n(null),i=n(null),u=n(null),e=_(),{notify:d}=y(),f={name:r,email:a,phone:i,message:u,router:e,notify:d,saveForm:async()=>{try{if(!r.value||!a.value||!i.value||!u.value){d("Please fill your data correctly","red");return}const{error:t}=await b.from("contacts").insert([{name:r.value,email:a.value,phone:i.value,message:u.value}]);if(t)throw t;e.push({name:"Home"}),d("The data has been successfully sent, I will reply to your message immediately")}catch(t){d(t.message,"red")}},isValidEmail:t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t),ref:n,get supabase(){return b},get useRouter(){return _},get useUtils(){return y}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}};function F(m,s,r,a,i,u){return Q(),z(M,{class:"q-pa-md"},{default:o(()=>[P("form",{onSubmit:k(a.saveForm,["prevent"])},[l(A,{class:"no-padding"},{default:o(()=>[l(p,{class:"q-mb-sm q-mt-sm",rules:[e=>!!e||"Please input your name"],filled:"",dense:"","stack-label":"",label:"Name",modelValue:a.name,"onUpdate:modelValue":s[0]||(s[0]=e=>a.name=e),modelModifiers:{trim:!0},"lazy-rules":""},{prepend:o(()=>[l(c,{name:"person"})]),_:1},8,["rules","modelValue"]),l(p,{class:"q-mb-sm",filled:"",dense:"","stack-label":"",label:"Email",modelValue:a.email,"onUpdate:modelValue":s[1]||(s[1]=e=>a.email=e),modelModifiers:{trim:!0},rules:[e=>a.isValidEmail(e)||"Please input email correctly"],"lazy-rules":""},{prepend:o(()=>[l(c,{name:"mail"})]),_:1},8,["modelValue","rules"]),l(p,{class:"q-mb-sm",filled:"",dense:"","stack-label":"",label:"Phone",modelValue:a.phone,"onUpdate:modelValue":s[2]||(s[2]=e=>a.phone=e),modelModifiers:{trim:!0},rules:[e=>!!e||"Please input your phone number"],"lazy-rules":""},{prepend:o(()=>[l(c,{name:"phone"})]),_:1},8,["modelValue","rules"]),l(p,{class:"q-mb-sm",type:"textarea",filled:"",dense:"","stack-label":"",label:"Message",modelValue:a.message,"onUpdate:modelValue":s[3]||(s[3]=e=>a.message=e),modelModifiers:{trim:!0},rules:[e=>!!e||"Please input your message"],"lazy-rules":""},{prepend:o(()=>[l(c,{name:"message"})]),_:1},8,["modelValue","rules"])]),_:1}),l(U,{align:"right",class:"no-padding"},{default:o(()=>[l(w,{color:"primary",label:"submit",icon:"check",class:"q-px-md",type:"submit",dense:""})]),_:1})],32)]),_:1})}const T=x(B,[["render",F],["__file","FormContactComponent.vue"]]);export{T as C};
