import{l as g,p as v,q as V,c as C,m as h,n as q,_ as x,h as n,s as _,o as Q,a as z,w as r,d as P,x as k,e as l,y as d,Q as w}from"./index-7zkyGnYz.js";import{a as c}from"./QInput-WZDamMEu.js";import{Q as A}from"./QCardSection-QLJZRC55.js";import{u as b,Q as M}from"./utils-rnFQ_C8T.js";import{s as y}from"./data-DtufOTbz.js";const U=g({name:"QCardActions",props:{...v,vertical:Boolean},setup(m,{slots:s}){const o=V(m),a=C(()=>`q-card__actions ${o.value} q-card__actions--${m.vertical===!0?"vert column":"horiz row"}`);return()=>h("div",{class:a.value},q(s.default))}}),B={__name:"FormContactComponent",setup(m,{expose:s}){s();const{notify:o}=b(),a=n(null),i=n(null),u=n(null),e=n(null),p=_(),f={notify:o,name:a,email:i,phone:u,message:e,router:p,saveForm:async()=>{try{if(!a.value||!i.value||!u.value||!e.value){o("Please fill your data correctly","red");return}const{error:t}=await y.from("contacts").insert([{name:a.value,email:i.value,phone:u.value,message:e.value}]);if(t)throw t;p.push({name:"Home"}),o("The data has been successfully sent, I will reply to your message immediately")}catch(t){o(t.message,"red")}},isValidEmail:t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t),ref:n,get supabase(){return y},get useRouter(){return _},get useUtils(){return b}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}};function F(m,s,o,a,i,u){return Q(),z(M,{class:"q-pa-md"},{default:r(()=>[P("form",{onSubmit:k(a.saveForm,["prevent"])},[l(A,{class:"no-padding"},{default:r(()=>[l(c,{class:"q-mb-sm q-mt-sm",rules:[e=>!!e||"Please input your name"],filled:"",dense:"","stack-label":"",label:"Name",modelValue:a.name,"onUpdate:modelValue":s[0]||(s[0]=e=>a.name=e),modelModifiers:{trim:!0},"lazy-rules":""},{prepend:r(()=>[l(d,{name:"person"})]),_:1},8,["rules","modelValue"]),l(c,{class:"q-mb-sm",filled:"",dense:"","stack-label":"",label:"Email",modelValue:a.email,"onUpdate:modelValue":s[1]||(s[1]=e=>a.email=e),modelModifiers:{trim:!0},rules:[e=>a.isValidEmail(e)||"Please input email correctly"],"lazy-rules":""},{prepend:r(()=>[l(d,{name:"mail"})]),_:1},8,["modelValue","rules"]),l(c,{class:"q-mb-sm",filled:"",dense:"","stack-label":"",label:"Phone",modelValue:a.phone,"onUpdate:modelValue":s[2]||(s[2]=e=>a.phone=e),modelModifiers:{trim:!0},rules:[e=>!!e||"Please input your phone number"],"lazy-rules":""},{prepend:r(()=>[l(d,{name:"phone"})]),_:1},8,["modelValue","rules"]),l(c,{class:"q-mb-sm",type:"textarea",filled:"",dense:"","stack-label":"",label:"Message",modelValue:a.message,"onUpdate:modelValue":s[3]||(s[3]=e=>a.message=e),modelModifiers:{trim:!0},rules:[e=>!!e||"Please input your message"],"lazy-rules":""},{prepend:r(()=>[l(d,{name:"message"})]),_:1},8,["modelValue","rules"])]),_:1}),l(U,{align:"right",class:"no-padding"},{default:r(()=>[l(w,{color:"primary",label:"submit",icon:"check",class:"q-px-md",type:"submit",dense:""})]),_:1})],32)]),_:1})}const O=x(B,[["render",F],["__file","FormContactComponent.vue"]]);export{O as C};
